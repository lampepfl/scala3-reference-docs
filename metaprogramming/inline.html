<!DOCTYPE html><html data-githubContributorsUrl="https://api.github.com/repos/scala/scala3" data-githubContributorsFilename="docs/_docs/reference/metaprogramming/inline.md" data-pathToRoot="../" data-rawLocation="metaprogramming/inline" data-dynamicSideMenu="false"><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Inline</title><link rel="shortcut icon" type="image/x-icon" href="../favicon.ico"></link><script type="text/javascript" src="../scripts/theme.js"></script><script type="text/javascript" src="../scripts/searchData.js" defer="true"></script><script type="text/javascript" src="../scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="../styles/theme/bundle.css"></link><link rel="stylesheet" href="../styles/theme/components/bundle.css"></link><link rel="stylesheet" href="../styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="../styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="../styles/nord-light.css"></link><link rel="stylesheet" href="../styles/dotty-icons.css"></link><link rel="stylesheet" href="../styles/filter-bar.css"></link><link rel="stylesheet" href="../styles/code-snippets.css"></link><link rel="stylesheet" href="../styles/searchbar.css"></link><link rel="stylesheet" href="../styles/social-links.css"></link><link rel="stylesheet" href="../styles/versions-dropdown.css"></link><link rel="stylesheet" href="../styles/content-contributors.css"></link><link rel="stylesheet" href="../styles/fontawesome.css"></link><script type="text/javascript" src="../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="../scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="../scripts/data.js" defer="true"></script><link rel="stylesheet" href="../styles/staticsitestyles.css"></link><script>var pathToRoot = "../";</script><link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="/css/dottydoc.css"></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="../" class="logo-container"><span id="project-logo" class="project-logo"><img src="../project-logo/logo.svg"></img></span><span id="dark-project-logo" class="project-logo"><img src="../project-logo/logo_dark.svg"></img></span><span class="project-name h300">Scala 3 Reference</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a><div class="projectVersion">3.7.2</div></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><a href="https://docs.scala-lang.org/" class="text-button">Learn</a><a href="https://www.scala-lang.org/download/" class="text-button">Install</a><a href="https://scastie.scala-lang.org" class="text-button">Playground</a><a href="https://index.scala-lang.org" class="text-button">Find A Library</a><a href="https://www.scala-lang.org/community/" class="text-button">Community</a><a href="https://www.scala-lang.org/blog/" class="text-button">Blog</a><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span id="project-logo" class="project-logo"><img src="../project-logo/logo.svg"></img></span><span id="dark-project-logo" class="project-logo"><img src="../project-logo/logo_dark.svg"></img></span><span class="project-name h300">Scala 3 Reference</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><a href="https://docs.scala-lang.org/" class="mobile-menu-item">Learn</a><a href="https://www.scala-lang.org/download/" class="mobile-menu-item">Install</a><a href="https://scastie.scala-lang.org" class="mobile-menu-item">Playground</a><a href="https://index.scala-lang.org" class="mobile-menu-item">Find A Library</a><a href="https://www.scala-lang.org/community/" class="mobile-menu-item">Community</a><a href="https://www.scala-lang.org/blog/" class="mobile-menu-item">Blog</a><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="docs-nav-button" class="switcher h100 selected" href="../index.html">Docs</a></div><nav id="docs-nav" class="side-menu"><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../new-types/index.html"><span>New Types</span></a></span><div class="ni n1 "><span class="nh de"><a href="../new-types/intersection-types.html"><span>Intersection Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../new-types/union-types.html"><span>Union Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../new-types/type-lambdas.html"><span>Type Lambdas</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../new-types/match-types.html"><span>Match Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../new-types/dependent-function-types.html"><span>Dependent Function Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../new-types/polymorphic-function-types.html"><span>Polymorphic Function Types</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../enums/index.html"><span>Enums</span></a></span><div class="ni n1 "><span class="nh de"><a href="../enums/enums.html"><span>Enumerations</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../enums/adts.html"><span>Algebraic Data Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../enums/desugarEnums.html"><span>Translation of Enums and ADTs</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../contextual/index.html"><span>Contextual Abstractions</span></a></span><div class="ni n1 "><span class="nh de"><a href="../contextual/givens.html"><span>Given Instances</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/using-clauses.html"><span>Using Clauses</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/context-bounds.html"><span>Context Bounds</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/deferred-givens.html"><span>Deferred Givens</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/given-imports.html"><span>Importing Givens</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/more-givens.html"><span>Other Forms Of Givens</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/extension-methods.html"><span>Extension Methods</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/right-associative-extension-methods.html"><span>Right-Associative Extension Methods: Details</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/type-classes.html"><span>Implementing Type classes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/derivation.html"><span>Type Class Derivation</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/derivation-macro.html"><span>How to write a type class `derived` method using macros</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/multiversal-equality.html"><span>Multiversal Equality</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/context-functions.html"><span>Context Functions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/conversions.html"><span>Implicit Conversions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/by-name-context-parameters.html"><span>By-Name Context Parameters</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../contextual/relationship-implicits.html"><span>Relationship with Scala 2 Implicits</span></a></span></div></div><div class="ni n0 expanded"><span class="nh h100 expanded cs de"><button class="ar icon-button expanded"></button><a href="index.html"><span>Metaprogramming</span></a></span><div class="ni n1 expanded"><span class="nh h100 selected de"><a href="#"><span>Inline</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="compiletime-ops.html"><span>Compile-time operations</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="macros.html"><span>Macros</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="simple-smp.html"><span>The Meta-theory of Symmetric Metaprogramming</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="staging.html"><span>Run-Time Multi-Stage Programming</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="reflection.html"><span>Reflection</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="tasty-inspect.html"><span>TASTy Inspection</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../other-new-features/index.html"><span>Other New Features</span></a></span><div class="ni n1 "><span class="nh de"><a href="../other-new-features/trait-parameters.html"><span>Trait Parameters</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/transparent-traits.html"><span>Transparent Traits and Classes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/creator-applications.html"><span>Universal Apply Methods</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/export.html"><span>Export Clauses</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/opaques.html"><span>Opaque Type Aliases</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/opaques-details.html"><span>Opaque Type Aliases: More Details</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/named-tuples.html"><span>Named Tuples</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/open-classes.html"><span>Open Classes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/parameter-untupling.html"><span>Parameter Untupling</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/kind-polymorphism.html"><span>Kind Polymorphism</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/matchable.html"><span>The Matchable Trait</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/threadUnsafe-annotation.html"><span>The @threadUnsafe annotation</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/targetName.html"><span>The @targetName annotation</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/control-syntax.html"><span>New Control Syntax</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/indentation.html"><span>Optional Braces</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/safe-initialization.html"><span>Safe Initialization</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/type-test.html"><span>TypeTest</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/experimental-defs.html"><span>Experimental Definitions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/preview-defs.html"><span>Preview Definitions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/binary-literals.html"><span>Binary Integer Literals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../other-new-features/toplevel-definitions.html"><span>Toplevel Definitions</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../changed-features/index.html"><span>Other Changed Features</span></a></span><div class="ni n1 "><span class="nh de"><a href="../changed-features/numeric-literals.html"><span>Numeric Literals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/structural-types.html"><span>Programmatic Structural Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/operators.html"><span>Rules for Operators</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/wildcards.html"><span>Wildcard Arguments in Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/imports.html"><span>Imports</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/type-inference.html"><span>Changes in Type Inference</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/implicit-resolution.html"><span>Changes in Implicit Resolution</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/implicit-conversions.html"><span>Implicit Conversions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/overload-resolution.html"><span>Changes in Overload Resolution</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/match-syntax.html"><span>Match Expressions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/vararg-splices.html"><span>Vararg Splices</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/pattern-bindings.html"><span>Pattern Bindings</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/pattern-matching.html"><span>Option-less pattern matching</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/eta-expansion.html"><span>Automatic Eta Expansion</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/compiler-plugins.html"><span>Changes in Compiler Plugins</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/lazy-vals-init.html"><span>Lazy Vals Initialization</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/main-functions.html"><span>Main Methods</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../changed-features/interpolation-escapes.html"><span>Escapes in interpolations</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../dropped-features/index.html"><span>Dropped Features</span></a></span><div class="ni n1 "><span class="nh de"><a href="../dropped-features/delayed-init.html"><span>Dropped: DelayedInit</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/macros.html"><span>Dropped: Scala 2 Macros</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/existential-types.html"><span>Dropped: Existential Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/type-projection.html"><span>Dropped: General Type Projection</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/do-while.html"><span>Dropped: Do-While</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/procedure-syntax.html"><span>Dropped: Procedure Syntax</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/early-initializers.html"><span>Dropped: Early Initializers</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/class-shadowing.html"><span>Dropped: Class Shadowing</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/limit22.html"><span>Dropped: Limit 22</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/xml.html"><span>Dropped: XML Literals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/symlits.html"><span>Dropped: Symbol Literals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/auto-apply.html"><span>Dropped: Auto-Application</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/weak-conformance.html"><span>Dropped: Weak Conformance</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/nonlocal-returns.html"><span>Deprecated: Nonlocal Returns</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/this-qualifier.html"><span>Dropped: private[this] and protected[this]</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../dropped-features/wildcard-init.html"><span>Dropped: Wildcard Initializer</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../preview/index.html"><span>Preview</span></a></span><div class="ni n1 "><span class="nh de"><a href="../preview/better-fors.html"><span>Better fors</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../experimental/index.html"><span>Experimental</span></a></span><div class="ni n1 "><span class="nh de"><a href="../experimental/canthrow.html"><span>CanThrow Capabilities</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/erased-defs.html"><span>Erased Definitions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/named-typeargs.html"><span>Named Type Arguments</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/numeric-literals.html"><span>Numeric Literals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/explicit-nulls.html"><span>Explicit Nulls</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/main-annotation.html"><span>MainAnnotation</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/into.html"><span>The `into` Type and Modifier</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/cc.html"><span>Capture Checking</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/purefuns.html"><span>Pure Function Syntax</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/tupled-function.html"><span>Tupled Function</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/modularity.html"><span>Modularity Improvements</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/typeclasses.html"><span>Better Support for Type Classes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/runtimeChecked.html"><span>The runtimeChecked method</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/unrolled-defs.html"><span>Automatic Parameter Unrolling</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/package-object-values.html"><span>Reference-able Package Objects</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../experimental/quoted-patterns-with-polymorphic-functions.html"><span>Quoted Patterns with Polymorphic Functions</span></a></span></div></div><div class="ni n0 "><span class="nh de"><a href="../syntax.html"><span>Scala 3 Syntax Summary</span></a></span></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../language-versions/index.html"><span>Language Versions</span></a></span><div class="ni n1 "><span class="nh de"><a href="../language-versions/source-compatibility.html"><span>Source Compatibility</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../language-versions/binary-compatibility.html"><span>Binary Compatibility</span></a></span></div></div><div class="ni n0 "><span class="nh de"><a href="../soft-modifier.html"><span>Soft Keywords</span></a></span></div><div class="ni n0 "><span class="nh de"><a href="../features-classification.html"><span>A Classification of Proposed Language Features</span></a></span></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/scala/scala3"><button class="icon-button gh"></button></a><a href="https://discord.com/invite/scala"><button class="icon-button discord"></button></a><a href="https://twitter.com/scala_lang"><button class="icon-button twitter"></button></a><div class="text">Copyright (c) 2002-2025, LAMP/EPFL</div></div><div class="text-mobile">Copyright (c) 2002-2025, LAMP/EPFL</div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="../index.html">Scala 3 Reference</a>/<a href="index.html">Metaprogramming</a>/<a href="inline.html">Inline</a></div><div id="content" class="body-medium"><div><div id="content-wrapper">
 <div class="site-container">
  <div id="site-header"></div>
  <main>
   <header>
    <a class="text-button with-link body-small" href="https://github.com/scala/scala3/edit/language-reference-stable/docs/_docs/reference/metaprogramming/inline.md">Edit this page on GitHub</a>
    <h1 class="h600">Inline</h1>
   </header>
   <section id="inline-definitions">
    <h2 class="h500"><a href="#inline-definitions" class="anchor"></a>Inline Definitions</h2>
    <p><code>inline</code> is a new <a href="../soft-modifier.html">soft modifier</a> that guarantees that a definition will be inlined at the point of use. Example:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>object Config:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  inline val logging = false
</span><span line-number="3" class=""><span class="tooltip-container"></span>
</span><span line-number="4" class=""><span class="tooltip-container"></span>object Logger:
</span><span line-number="5" class=""><span class="tooltip-container"></span>
</span><span line-number="6" class=""><span class="tooltip-container"></span>  private var indent = 0
</span><span line-number="7" class=""><span class="tooltip-container"></span>
</span><span line-number="8" class=""><span class="tooltip-container"></span>  inline def log[T](msg: String, indentMargin: =&gt;Int)(op: =&gt; T): T =
</span><span line-number="9" class=""><span class="tooltip-container"></span>    if Config.logging then
</span><span line-number="10" class=""><span class="tooltip-container"></span>      println(s"${"  " * indent}start $msg")
</span><span line-number="11" class=""><span class="tooltip-container"></span>      indent += indentMargin
</span><span line-number="12" class=""><span class="tooltip-container"></span>      val result = op
</span><span line-number="13" class=""><span class="tooltip-container"></span>      indent -= indentMargin
</span><span line-number="14" class=""><span class="tooltip-container"></span>      println(s"${"  " * indent}$msg = $result")
</span><span line-number="15" class=""><span class="tooltip-container"></span>      result
</span><span line-number="16" class=""><span class="tooltip-container"></span>    else op
</span><span line-number="17" class=""><span class="tooltip-container"></span>end Logger
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>The <code>Config</code> object contains a definition of the <strong>inline value</strong> <code>logging</code>. This means that <code>logging</code> is treated as a <em>constant value</em>, equivalent to its right-hand side <code>false</code>. The right-hand side of such an <code>inline val</code> must itself be a <a href="https://scala-lang.org/files/archive/spec/2.13/06-expressions.html#constant-expressions">constant expression</a>. Used in this way, <code>inline</code> is equivalent to Java and Scala 2's <code>final</code>. Note that <code>final</code>, meaning <em>inlined constant</em>, is still supported in Scala 3, but will be phased out.</p>
    <p>The <code>Logger</code> object contains a definition of the <strong>inline method</strong> <code>log</code>. This method will always be inlined at the point of call.</p>
    <p>In the inlined code, an <code>if-then-else</code> with a constant condition will be rewritten to its <code>then</code>- or <code>else</code>-part. Consequently, in the <code>log</code> method above the <code>if Config.logging</code> with <code>Config.logging == true</code> will get rewritten into its <code>then</code>-part.</p>
    <p>Here's an example:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>var indentSetting = 2
</span><span line-number="2" class=""><span class="tooltip-container"></span>
</span><span line-number="3" class=""><span class="tooltip-container"></span>def factorial(n: BigInt): BigInt =
</span><span line-number="4" class=""><span class="tooltip-container"></span>  log(s"factorial($n)", indentSetting) {
</span><span line-number="5" class=""><span class="tooltip-container"></span>    if n == 0 then 1
</span><span line-number="6" class=""><span class="tooltip-container"></span>    else n * factorial(n - 1)
</span><span line-number="7" class=""><span class="tooltip-container"></span>  }
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>If <code>Config.logging == false</code>, this will be rewritten (simplified) to:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>def factorial(n: BigInt): BigInt =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  if n == 0 then 1
</span><span line-number="3" class=""><span class="tooltip-container"></span>  else n * factorial(n - 1)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>As you notice, since neither <code>msg</code> or <code>indentMargin</code> were used, they do not appear in the generated code for <code>factorial</code>. Also note the body of our <code>log</code> method: the <code>else-</code> part reduces to just an <code>op</code>. In the generated code we do not generate any closures because we only refer to a by-name parameter <em>once</em>. Consequently, the code was inlined directly and the call was beta-reduced.</p>
    <p>In the <code>true</code> case the code will be rewritten to:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>def factorial(n: BigInt): BigInt =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  val msg = s"factorial($n)"
</span><span line-number="3" class=""><span class="tooltip-container"></span>  println(s"${"  " * indent}start $msg")
</span><span line-number="4" class=""><span class="tooltip-container"></span>  Logger.inline$indent_=(indent.+(indentSetting))
</span><span line-number="5" class=""><span class="tooltip-container"></span>  val result =
</span><span line-number="6" class=""><span class="tooltip-container"></span>    if n == 0 then 1
</span><span line-number="7" class=""><span class="tooltip-container"></span>    else n * factorial(n - 1)
</span><span line-number="8" class=""><span class="tooltip-container"></span>  Logger.inline$indent_=(indent.-(indentSetting))
</span><span line-number="9" class=""><span class="tooltip-container"></span>  println(s"${"  " * indent}$msg = $result")
</span><span line-number="10" class=""><span class="tooltip-container"></span>  result
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Note that the by-value parameter <code>msg</code> is evaluated only once, per the usual Scala semantics, by binding the value and reusing the <code>msg</code> through the body of <code>factorial</code>. Also, note the special handling of the assignment to the private var <code>indent</code>. It is achieved by generating a setter method <code>def inline$indent_=</code> and calling it instead.</p>
    <p>Inline methods always have to be fully applied. For instance, a call to</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>Logger.log[String]("some op", indentSetting)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>would be ill-formed and the compiler would complain that arguments are missing. However, it is possible to pass wildcard arguments instead. For instance,</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>Logger.log[String]("some op", indentSetting)(_)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>would typecheck.</p>
   </section>
   <section id="recursive-inline-methods">
    <h3 class="h400"><a href="#recursive-inline-methods" class="anchor"></a>Recursive Inline Methods</h3>
    <p>Inline methods can be recursive. For instance, when called with a constant exponent <code>n</code>, the following method for <code>power</code> will be implemented by straight inline code without any loop or recursion. It is worth noting that the number of successive inlines is limited to 32 and can be modified by the compiler setting <code>-Xmax-inlines</code>.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>inline def power(x: Double, n: Int): Double =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  if n == 0 then 1.0
</span><span line-number="3" class=""><span class="tooltip-container"></span>  else if n == 1 then x
</span><span line-number="4" class=""><span class="tooltip-container"></span>  else
</span><span line-number="5" class=""><span class="tooltip-container"></span>    val y = power(x, n / 2)
</span><span line-number="6" class=""><span class="tooltip-container"></span>    if n % 2 == 0 then y * y else y * y * x
</span><span line-number="7" class=""><span class="tooltip-container"></span>
</span><span line-number="8" class=""><span class="tooltip-container"></span>power(expr, 10)
</span><span line-number="9" class=""><span class="tooltip-container"></span>// translates to
</span><span line-number="10" class=""><span class="tooltip-container"></span>//
</span><span line-number="11" class=""><span class="tooltip-container"></span>//   val x = expr
</span><span line-number="12" class=""><span class="tooltip-container"></span>//   val y1 = x * x   // ^2
</span><span line-number="13" class=""><span class="tooltip-container"></span>//   val y2 = y1 * y1 // ^4
</span><span line-number="14" class=""><span class="tooltip-container"></span>//   val y3 = y2 * x  // ^5
</span><span line-number="15" class=""><span class="tooltip-container"></span>//   y3 * y3          // ^10
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Parameters of inline methods can have an <code>inline</code> modifier as well. This means that actual arguments to these parameters will be inlined in the body of the <code>inline def</code>. <code>inline</code> parameters have call semantics equivalent to by-name parameters but allow for duplication of the code in the argument. It is usually useful when constant values need to be propagated to allow further optimizations/reductions.</p>
    <p>The following example shows the difference in translation between by-value, by-name and <code>inline</code> parameters:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>inline def funkyAssertEquals(actual: Double, expected: =&gt;Double, inline delta: Double): Unit =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  if (actual - expected).abs &gt; delta then
</span><span line-number="3" class=""><span class="tooltip-container"></span>    throw new AssertionError(s"difference between ${expected} and ${actual} was larger than ${delta}")
</span><span line-number="4" class=""><span class="tooltip-container"></span>
</span><span line-number="5" class=""><span class="tooltip-container"></span>funkyAssertEquals(computeActual(), computeExpected(), computeDelta())
</span><span line-number="6" class=""><span class="tooltip-container"></span>// translates to
</span><span line-number="7" class=""><span class="tooltip-container"></span>//
</span><span line-number="8" class=""><span class="tooltip-container"></span>//   val actual = computeActual()
</span><span line-number="9" class=""><span class="tooltip-container"></span>//   def expected = computeExpected()
</span><span line-number="10" class=""><span class="tooltip-container"></span>//   if (actual - expected).abs &gt; computeDelta() then
</span><span line-number="11" class=""><span class="tooltip-container"></span>//     throw new AssertionError(s"difference between ${expected} and ${actual} was larger than ${computeDelta()}")
</span></code></pre>
     <div class="buttons"></div>
    </div>
   </section>
   <section id="rules-for-overriding">
    <h3 class="h400"><a href="#rules-for-overriding" class="anchor"></a>Rules for Overriding</h3>
    <p>Inline methods can override other non-inline methods. The rules are as follows:</p>
    <ol>
     <li>
      <p>If an inline method <code>f</code> implements or overrides another, non-inline method, the inline method can also be invoked at runtime. For instance, consider the scenario:</p>
      <div class="snippet mono-small-block" scala-snippet="">
       <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>abstract class A:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  def f: Int
</span><span line-number="3" class=""><span class="tooltip-container"></span>  def g: Int = f
</span><span line-number="4" class=""><span class="tooltip-container"></span>
</span><span line-number="5" class=""><span class="tooltip-container"></span>class B extends A:
</span><span line-number="6" class=""><span class="tooltip-container"></span>  inline def f = 22
</span><span line-number="7" class=""><span class="tooltip-container"></span>  override inline def g = f + 11
</span><span line-number="8" class=""><span class="tooltip-container"></span>
</span><span line-number="9" class=""><span class="tooltip-container"></span>val b = new B
</span><span line-number="10" class=""><span class="tooltip-container"></span>val a: A = b
</span><span line-number="11" class=""><span class="tooltip-container"></span>// inlined invocatons
</span><span line-number="12" class=""><span class="tooltip-container"></span>assert(b.f == 22)
</span><span line-number="13" class=""><span class="tooltip-container"></span>assert(b.g == 33)
</span><span line-number="14" class=""><span class="tooltip-container"></span>// dynamic invocations
</span><span line-number="15" class=""><span class="tooltip-container"></span>assert(a.f == 22)
</span><span line-number="16" class=""><span class="tooltip-container"></span>assert(a.g == 33)
</span></code></pre>
       <div class="buttons"></div>
      </div>
      <p>The inlined invocations and the dynamically dispatched invocations give the same results.</p></li>
     <li>
      <p>Inline methods are effectively final.</p></li>
     <li>
      <p>Inline methods can also be abstract. An abstract inline method can be implemented only by other inline methods. It cannot be invoked directly:</p>
      <div class="snippet mono-small-block" scala-snippet="">
       <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>abstract class A:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  inline def f: Int
</span><span line-number="3" class=""><span class="tooltip-container"></span>
</span><span line-number="4" class=""><span class="tooltip-container"></span>object B extends A:
</span><span line-number="5" class=""><span class="tooltip-container"></span>  inline def f: Int = 22
</span><span line-number="6" class=""><span class="tooltip-container"></span>
</span><span line-number="7" class=""><span class="tooltip-container"></span>B.f         // OK
</span><span line-number="8" class=""><span class="tooltip-container"></span>val a: A = B
</span><span line-number="9" class=""><span class="tooltip-container"></span>a.f         // error: cannot inline f in A.
</span></code></pre>
       <div class="buttons"></div>
      </div></li>
    </ol>
   </section>
   <section id="relationship-to-inline">
    <h3 class="h400"><a href="#relationship-to-inline" class="anchor"></a>Relationship to <code>@inline</code></h3>
    <p>Scala 2 also defines a <code>@inline</code> annotation which is used as a hint for the backend to inline code. The <code>inline</code> modifier is a more powerful option:</p>
    <ul>
     <li>expansion is guaranteed instead of best effort,</li>
     <li>expansion happens in the frontend instead of in the backend and</li>
     <li>expansion also applies to recursive methods.</li>
    </ul><!-- (Commented out since the docs and implementation differ)

### Evaluation Rules

As you noticed by the examples above a lambda of the form

`((x_1, ..., x_n) => B)(E_1, ..., E_n)` is rewritten to:

```
{ val/def x_1 = E_1
  ...
  val/def x_n = E_n
  B
}
```

where vals are used for value parameter bindings and defs are used for by-name
parameter bindings. If an argument `E_i` is a simple variable reference `y`, the
corresponding binding is omitted and `y` is used instead of `x_i` in `B`.

If a `inline` modifier is given for parameters, corresponding arguments must be
pure expressions of constant type.
-->
   </section>
   <section id="the-definition-of-constant-expression">
    <h3 class="h400"><a href="#the-definition-of-constant-expression" class="anchor"></a>The definition of constant expression</h3>
    <p>Right-hand sides of inline values and of arguments for inline parameters must be constant expressions in the sense defined by the <a href="https://www.scala-lang.org/files/archive/spec/2.13/06-expressions.html#constant-expressions">SLS §6.24</a>, including <em>platform-specific</em> extensions such as constant folding of pure numeric computations.</p>
    <p>An inline value must have a literal type such as <code>1</code> or <code>true</code>.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>inline val four = 4
</span><span line-number="2" class=""><span class="tooltip-container"></span>// equivalent to
</span><span line-number="3" class=""><span class="tooltip-container"></span>inline val four: 4 = 4
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>It is also possible to have inline vals of types that do not have a syntax, such as <code>Short(4)</code>.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>trait InlineConstants:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  inline val myShort: Short
</span><span line-number="3" class=""><span class="tooltip-container"></span>
</span><span line-number="4" class=""><span class="tooltip-container"></span>object Constants extends InlineConstants:
</span><span line-number="5" class=""><span class="tooltip-container"></span>  inline val myShort/*: Short(4)*/ = 4
</span></code></pre>
     <div class="buttons"></div>
    </div>
   </section>
   <section id="transparent-inline-methods">
    <h2 class="h500"><a href="#transparent-inline-methods" class="anchor"></a>Transparent Inline Methods</h2>
    <p>Inline methods can additionally be declared <code>transparent</code>. This means that the return type of the inline method can be specialized to a more precise type upon expansion. Example:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>class A
</span><span line-number="2" class=""><span class="tooltip-container"></span>class B extends A:
</span><span line-number="3" class=""><span class="tooltip-container"></span>  def m = true
</span><span line-number="4" class=""><span class="tooltip-container"></span>
</span><span line-number="5" class=""><span class="tooltip-container"></span>transparent inline def choose(b: Boolean): A =
</span><span line-number="6" class=""><span class="tooltip-container"></span>  if b then new A else new B
</span><span line-number="7" class=""><span class="tooltip-container"></span>
</span><span line-number="8" class=""><span class="tooltip-container"></span>val obj1 = choose(true)  // static type is A
</span><span line-number="9" class=""><span class="tooltip-container"></span>val obj2 = choose(false) // static type is B
</span><span line-number="10" class=""><span class="tooltip-container"></span>
</span><span line-number="11" class=""><span class="tooltip-container"></span>// obj1.m // compile-time error: `m` is not defined on `A`
</span><span line-number="12" class=""><span class="tooltip-container"></span>obj2.m    // OK
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Here, the inline method <code>choose</code> returns an instance of either of the two types <code>A</code> or <code>B</code>. If <code>choose</code> had not been declared to be <code>transparent</code>, the result of its expansion would always be of type <code>A</code>, even though the computed value might be of the subtype <code>B</code>. The inline method is a "blackbox" in the sense that details of its implementation do not leak out. But if a <code>transparent</code> modifier is given, the expansion is the type of the expanded body. If the argument <code>b</code> is <code>true</code>, that type is <code>A</code>, otherwise it is <code>B</code>. Consequently, calling <code>m</code> on <code>obj2</code> type-checks since <code>obj2</code> has the same type as the expansion of <code>choose(false)</code>, which is <code>B</code>. Transparent inline methods are "whitebox" in the sense that the type of an application of such a method can be more specialized than its declared return type, depending on how the method expands.</p>
    <p>In the following example, we see how the return type of <code>zero</code> is specialized to the singleton type <code>0</code> permitting the addition to be ascribed with the correct type <code>1</code>.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>transparent inline def zero: Int = 0
</span><span line-number="2" class=""><span class="tooltip-container"></span>
</span><span line-number="3" class=""><span class="tooltip-container"></span>val one: 1 = zero + 1
</span></code></pre>
     <div class="buttons"></div>
    </div>
   </section>
   <section id="transparent-vs-non-transparent-inline">
    <h3 class="h400"><a href="#transparent-vs-non-transparent-inline" class="anchor"></a>Transparent vs. non-transparent inline</h3>
    <p>As we already discussed, transparent inline methods may influence type checking at call site. Technically this implies that transparent inline methods must be expanded during type checking of the program. Other inline methods are inlined later after the program is fully typed.</p>
    <p>For example, the following two functions will be typed the same way but will be inlined at different times.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>inline def f1: T = ...
</span><span line-number="2" class=""><span class="tooltip-container"></span>transparent inline def f2: T = (...): T
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>A noteworthy difference is the behavior of <code>transparent inline given</code>. If there is an error reported when inlining that definition, it will be considered as an implicit search mismatch and the search will continue. A <code>transparent inline given</code> can add a type ascription in its RHS (as in <code>f2</code> from the previous example) to avoid the precise type but keep the search behavior. On the other hand, an <code>inline given</code> is taken as an implicit and then inlined after typing. Any error will be emitted as usual.</p>
   </section>
   <section id="inline-conditionals">
    <h2 class="h500"><a href="#inline-conditionals" class="anchor"></a>Inline Conditionals</h2>
    <p>An if-then-else expression whose condition is a constant expression can be simplified to the selected branch. Prefixing an if-then-else expression with <code>inline</code> enforces that the condition has to be a constant expression, and thus guarantees that the conditional will always simplify.</p>
    <p>Example:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>inline def update(delta: Int) =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  inline if delta &gt;= 0 then increaseBy(delta)
</span><span line-number="3" class=""><span class="tooltip-container"></span>  else decreaseBy(-delta)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>A call <code>update(22)</code> would rewrite to <code>increaseBy(22)</code>. But if <code>update</code> was called with a value that was not a compile-time constant, we would get a compile time error like the one below:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|  inline if delta &gt;= 0 then ???
</span><span line-number="2" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|  ^
</span><span line-number="3" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|  cannot reduce inline if
</span><span line-number="4" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|   its condition
</span><span line-number="5" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|     delta &gt;= 0
</span><span line-number="6" class=""><span class="tooltip-container"></span><span class="hideable">  </span>|   is not a constant value
</span><span line-number="7" class=""><span class="tooltip-container"></span><span class="hideable">  </span>| This location is in code that was inlined at ...
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>In a transparent inline, an <code>inline if</code> will force the inlining of any inline definition in its condition during type checking.</p>
   </section>
   <section id="inline-matches">
    <h2 class="h500"><a href="#inline-matches" class="anchor"></a>Inline Matches</h2>
    <p>A <code>match</code> expression in the body of an <code>inline</code> method definition may be prefixed by the <code>inline</code> modifier. If there is enough type information at compile time to select a branch, the expression is reduced to that branch and the type of the expression is the type of the right-hand side of that result. If not, a compile-time error is raised that reports that the match cannot be reduced.</p>
    <p>The example below defines an inline method with a single inline match expression that picks a case based on its static type:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>transparent inline def g(x: Any): Any =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  inline x match
</span><span line-number="3" class=""><span class="tooltip-container"></span>    case x: String =&gt; (x, x) // Tuple2[String, String](x, x)
</span><span line-number="4" class=""><span class="tooltip-container"></span>    case x: Double =&gt; x
</span><span line-number="5" class=""><span class="tooltip-container"></span>
</span><span line-number="6" class=""><span class="tooltip-container"></span>g(1.0d) // Has type 1.0d which is a subtype of Double
</span><span line-number="7" class=""><span class="tooltip-container"></span>g("test") // Has type (String, String)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>The scrutinee <code>x</code> is examined statically and the inline match is reduced accordingly returning the corresponding value (with the type specialized because <code>g</code> is declared <code>transparent</code>). This example performs a simple type test over the scrutinee. The type can have a richer structure like the simple ADT below. <code>toInt</code> matches the structure of a number in <a href="https://en.wikipedia.org/wiki/Church_encoding">Church-encoding</a> and <em>computes</em> the corresponding integer.</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>trait Nat
</span><span line-number="2" class=""><span class="tooltip-container"></span>case object Zero extends Nat
</span><span line-number="3" class=""><span class="tooltip-container"></span>case class Succ[N &lt;: Nat](n: N) extends Nat
</span><span line-number="4" class=""><span class="tooltip-container"></span>
</span><span line-number="5" class=""><span class="tooltip-container"></span>transparent inline def toInt(n: Nat): Int =
</span><span line-number="6" class=""><span class="tooltip-container"></span>  inline n match
</span><span line-number="7" class=""><span class="tooltip-container"></span>    case Zero     =&gt; 0
</span><span line-number="8" class=""><span class="tooltip-container"></span>    case Succ(n1) =&gt; toInt(n1) + 1
</span><span line-number="9" class=""><span class="tooltip-container"></span>
</span><span line-number="10" class=""><span class="tooltip-container"></span>inline val natTwo = toInt(Succ(Succ(Zero)))
</span><span line-number="11" class=""><span class="tooltip-container"></span>val intTwo: 2 = natTwo
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p><code>natTwo</code> is inferred to have the singleton type 2.</p>
   </section>
   <section id="reference">
    <h2 class="h500"><a href="#reference" class="anchor"></a>Reference</h2>
    <p>For more information about the semantics of <code>inline</code>, see the <a href="https://dl.acm.org/doi/10.1145/3426426.3428486">Scala 2020: Semantics-preserving inlining for metaprogramming</a> paper.</p>
   </section>
  </main>
  <div class="divider"></div>
  <nav class="arrow-navigation" aria-label="Page navigation">
   <div>
    <span class="body-small">Previous</span> <a rel="prev" href="index.html" aria-keyshortcuts="Left" class="body-medium"> <span class="body-medium">Metaprogramming</span> </a>
   </div>
   <div>
    <span class="body-small">Next</span> <a rel="next" href="compiletime-ops.html" aria-keyshortcuts="Right" class="body-medium"> <span class="body-medium">Compile-time operations</span> </a>
   </div>
  </nav>
 </div>
</div></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#inline-definitions">Inline Definitions</a><ul><li><a href="#recursive-inline-methods">Recursive Inline Methods</a></li><li><a href="#rules-for-overriding">Rules for Overriding</a></li><li><a href="#relationship-to-inline">Relationship to @inline</a></li><li><a href="#the-definition-of-constant-expression">The definition of constant expression</a></li></ul></li><li><a href="#transparent-inline-methods">Transparent Inline Methods</a><ul><li><a href="#transparent-vs-non-transparent-inline">Transparent vs. non-transparent inline</a></li></ul></li><li><a href="#inline-conditionals">Inline Conditionals</a></li><li><a href="#inline-matches">Inline Matches</a></li><li><a href="#reference">Reference</a></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/scala/scala3"><button class="icon-button gh"></button></a><a href="https://discord.com/invite/scala"><button class="icon-button discord"></button></a><a href="https://twitter.com/scala_lang"><button class="icon-button twitter"></button></a><div class="text">Copyright (c) 2002-2025, LAMP/EPFL</div></div><div class="text-mobile">Copyright (c) 2002-2025, LAMP/EPFL</div></div></div></div></body></html>